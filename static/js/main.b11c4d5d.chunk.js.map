{"version":3,"sources":["contexts/CurrentUserContext.js","utils/constants.js","utils/api.js","utils/auth.js","hooks/useForm.js","components/Form.js","hooks/usePageLock.js","components/Popup.js","components/PopupWithForm.js","components/AddPlacePopup.js","components/EditAvatarPopup.js","components/EditProfilePopup.js","components/Footer.js","images/logo/logo_color_white.svg","components/Menu.js","components/Header.js","components/ImagePopup.js","images/tooltip/success.svg","images/tooltip/fail.svg","components/InfoTooltip.js","components/AuthForm.js","components/Login.js","components/Card.js","components/Main.js","components/PopupWithConfirmation.js","components/ProtectedRoute.js","components/Register.js","components/App.js","index.js"],"names":["CurrentUserContext","createContext","BASE_URL","api","url","this","_url","_headers","res","ok","json","Promise","reject","status","fetch","method","credentials","headers","then","_onResponse","userInfo","body","JSON","stringify","name","about","avatarLink","avatar","link","cardId","isLiked","checkResponse","useForm","useState","values","setValues","errors","setErrors","isValid","setIsValid","resetForm","useCallback","newValues","newErrors","newIsValid","handleChange","event","target","value","validationMessage","closest","checkValidity","Form","onSubmit","title","isLoading","buttonText","children","className","disabled","type","usePageLock","lockScroll","documentWidth","document","documentElement","clientWidth","scrollBarWidth","window","innerWidth","style","overflow","paddingRight","unlockScroll","Popup","isOpen","onClose","useEffect","closeByEscape","e","key","addEventListener","removeEventListener","onClick","currentTarget","PopupWithForm","isFormValid","AddPlacePopup","onPlaceAdd","preventDefault","picture","id","maxLength","minLength","placeholder","required","onChange","EditAvatarPopup","onUpdateAvatar","EditProfilePopup","onUpdateUser","currentUser","useContext","Footer","Menu","userEmail","signOut","isMobile","Header","isLoggedIn","onLogOut","isMenuActive","showMenu","history","useHistory","a","push","path","to","alt","src","headerLogo","exact","ImagePopup","card","InfoTooltip","isSuccess","successIcon","failIcon","AuthForm","formData","email","password","Login","onSignin","Card","cardData","onCardClick","onCardLike","onCardDeleteClick","likes","owner","_id","isOwn","galleryDeleteButtonClassName","some","like","galleryLikeButtonClassName","length","Main","cards","onEditAvatar","onEditProfile","onAddPlace","map","PopupWithConfirmation","ProtectedRoute","Component","component","props","loggedIn","Register","onSignup","App","isSignUpSuccessful","setIsSignUpSuccessful","setIsLoggedIn","setCurrentUser","setUserEmail","setCards","selectedCard","setSelectedCard","cardToRemoveId","setCardToRemoveId","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isConfirmationPopupOpen","setIsConfirmationPopupOpen","isImagePopupOpen","setIsImagePopupOpen","tooltip","setTooltip","setIsMenuActive","setIsLoading","closeAllPopups","handlePopupLoader","tokenCheck","response","catch","error","console","log","all","getPlaces","getUserInfo","places","Provider","changeLikeCardStatus","newCard","c","err","userData","finally","_","newAvatar","setUserAvatar","newFetchedAvatar","newUserInfo","setUserInfo","newFetchedData","createNewPlace","newFetchedCard","removePlace","filter","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b11c4d5d.chunk.js","sourcesContent":["import { createContext } from 'react';\n\nexport const CurrentUserContext = createContext();\n","export const BASE_URL = 'https://api.mvxim.nomoredomains.work';\n","import { BASE_URL } from './constants';\n\nclass Api {\n  constructor(url) {\n    this._url = url;\n    this._headers = {\n      'Content-Type': 'application/json',\n    };\n  }\n  \n  _onResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`>>> Ошибка: ${ res.status }`);\n  }\n  \n  getUserInfo() {\n    return fetch(`${ this._url }/users/me`, {\n      method: 'GET',\n      credentials: 'include',\n      headers: this._headers\n    }).then(this._onResponse);\n  }\n  \n  setUserInfo(userInfo) {\n    return fetch(`${ this._url }/users/me`, {\n      method: 'PATCH',\n      credentials: 'include',\n      headers: this._headers,\n      body: JSON.stringify(\n          {\n            name: userInfo.name,\n            about: userInfo.about,\n          }\n      )\n    }).then(this._onResponse);\n  }\n  \n  setUserAvatar(avatarLink) {\n    return fetch(`${ this._url }/users/me/avatar`, {\n      method: 'PATCH',\n      credentials: 'include',\n      headers: this._headers,\n      body: JSON.stringify(\n          {\n            avatar: avatarLink\n          }\n      )\n    }).then(this._onResponse);\n  }\n  \n  getPlaces() {\n    return fetch(`${ this._url }/cards`, {\n      method: 'GET',\n      credentials: 'include',\n      headers: this._headers\n    }).then(this._onResponse);\n  }\n  \n  createNewPlace({ name, link }) {\n    return fetch(`${ this._url }/cards`, {\n      method: 'POST',\n      credentials: 'include',\n      headers: this._headers,\n      body: JSON.stringify(\n          {\n            name: name,\n            link: link\n          }\n      )\n    }).then(this._onResponse);\n  }\n  \n  changeLikeCardStatus(cardId, isLiked) {\n    return fetch(`${ this._url }/cards/${ cardId }/likes`, {\n      method: `${ isLiked ? 'DELETE' : 'PUT' }`,\n      credentials: 'include',\n      headers: this._headers,\n    }).then(this._onResponse);\n  }\n  \n  removePlace(cardId) {\n    return fetch(`${ this._url }/cards/${ cardId }`, {\n      method: 'DELETE',\n      credentials: 'include',\n      headers: this._headers,\n    }).then(this._onResponse);\n  }\n}\n\nconst api = new Api(BASE_URL);\n\nexport default api;\n","import { BASE_URL } from './constants';\n\nconst checkResponse = (res) => {\n  if (res.ok) {\n    return res.json();\n  }\n  return Promise.reject(res.status);\n};\n\nexport const register = (userData) => {\n  return fetch(`${ BASE_URL }/signup`, {\n    method: 'POST',\n    credentials: 'include',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(userData)\n  }).then(checkResponse);\n};\n\nexport const login = (userData) => {\n  return fetch(`${ BASE_URL }/signin`, {\n    //const BASE_URL = 'http://api.mvxim.nomoredomains.work'\n    method: 'POST',\n    credentials: 'include',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(userData)\n  }).then(checkResponse);\n};\n\nexport const getContent = () => {\n  return fetch(`${ BASE_URL }/users/me`, {\n    method: 'GET',\n    credentials: 'include',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n    }\n  })\n      .then(checkResponse);\n  // .then(data => data);\n};\n\nexport const logout = () => {\n  return fetch(`${ BASE_URL }/logout`, {\n    method: 'GET',\n    credentials: 'include',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n  }).then(checkResponse);\n};\n","import { useCallback, useState } from \"react\"\n\nconst useForm = () => {\n  const [ values, setValues ] = useState({})\n  const [ errors, setErrors ] = useState({})\n  const [ isValid, setIsValid ] = useState(false)\n  \n  const handleChange = (event) => {\n    const name = event.target.name\n    const value = event.target.value\n    \n    setValues({\n      ...values,\n      [name]: value,\n    })\n    \n    setErrors({\n      ...errors,\n      [name]: event.target.validationMessage\n    })\n    \n    setIsValid(event.target.closest(\"form\").checkValidity())\n  }\n  \n  const resetForm = useCallback((newValues = {}, newErrors = {}, newIsValid = false ) => {\n    setValues(newValues)\n    setErrors(newErrors)\n    setIsValid(newIsValid)\n  }, [ setValues, setErrors, setIsValid ])\n  \n  \n  return {\n    values,\n    errors,\n    handleChange,\n    isValid,\n    resetForm\n  }\n}\n\nexport default useForm\n","const Form = ({\n  name, onSubmit, title, isLoading, buttonText, children, isValid\n}) => {\n  \n  return (\n      <form\n          className=\"modal__form\"\n          name={ `${ name }-form` }\n          onSubmit={ onSubmit }\n      >\n        <h2 className=\"modal__title\">{ title }</h2>\n        { name === \"confirm\" ? null : children }\n        <button\n            disabled={ name === \"confirm\" ? false : !isValid || isLoading }\n            className={ `modal__button ${ isValid && !isLoading ? \"\" : \"modal__button_disabled\" }` }\n            type=\"submit\"\n        >\n          { isLoading ? \"⏳ Сохранение...\" : buttonText }\n        </button>\n      </form>\n  )\n}\n\nexport default Form\n","import { useCallback } from 'react';\n\nconst usePageLock = () => {\n  const lockScroll = useCallback(() => {\n    const documentWidth = document.documentElement.clientWidth;\n    const windowWidth = window.innerWidth;\n    const scrollBarWidth = windowWidth - documentWidth;\n    \n    document.body.style.overflow = 'hidden';\n    document.body.style.paddingRight = `${ scrollBarWidth }px`;\n  }, []);\n  \n  const unlockScroll = useCallback(() => {\n    document.body.style.overflow = 'auto';\n    document.body.style.paddingRight = 0;\n  }, []);\n  \n  return {\n    lockScroll,\n    unlockScroll,\n  };\n};\n\nexport default usePageLock;\n","import { useEffect } from 'react';\nimport usePageLock from '../hooks/usePageLock';\n\nconst Popup = ({ isOpen, name, onClose, children }) => {\n  \n  const { lockScroll, unlockScroll } = usePageLock();\n  \n  useEffect(() => {\n    if (!isOpen) return;\n    lockScroll();\n    \n    return () => {\n      unlockScroll();\n    };\n  }, [ isOpen, lockScroll, unlockScroll ]);\n  \n  useEffect(() => {\n    if (!isOpen) return;\n    \n    const closeByEscape = (e) => {\n      if (e.key === 'Escape') {\n        onClose();\n      }\n    };\n    \n    document.addEventListener('keydown', closeByEscape);\n    return () => document.removeEventListener('keydown', closeByEscape);\n    \n  }, [ isOpen, onClose ]);\n  \n  const handleOverlay = (e) => {\n    if (e.target === e.currentTarget) {\n      onClose();\n    }\n  };\n  \n  \n  return (\n      <section\n          className={ `modal modal_type_${ name } page__modal ${ isOpen ? 'modal_active' : '' }` }\n          onClick={ handleOverlay }\n      >\n        <div className={ `modal__${ name ===\n        'picture' ? 'figure' : 'container' }` }>\n          <button\n              className=\"modal__close-btn\"\n              type=\"button\"\n              onClick={ onClose }\n          />\n          { children }\n        </div>\n      \n      </section>\n  );\n};\n\nexport default Popup;\n","import Form from \"./Form\"\nimport Popup from \"./Popup\"\n\nfunction PopupWithForm({\n  name,\n  title,\n  buttonText = \"Сохранить\",\n  children,\n  isOpen,\n  onClose,\n  onSubmit,\n  isLoading,\n  isFormValid\n}) {\n  return (\n      <Popup\n          isOpen={ isOpen }\n          name={ name }\n          onClose={ onClose }\n      >\n        <Form\n            name={ name }\n            title={ title }\n            onSubmit={ onSubmit }\n            buttonText={ buttonText }\n            isLoading={ isLoading }\n            isValid={ isFormValid }\n        >\n          { children }\n        </Form>\n      </Popup>\n  )\n}\n\nexport default PopupWithForm\n","import { useEffect } from \"react\"\nimport useForm from \"../hooks/useForm\"\nimport PopupWithForm from \"./PopupWithForm\"\n\nfunction AddPlacePopup({ isOpen, onClose, onPlaceAdd, isLoading }) {\n  \n  const { handleChange, isValid, values, errors, resetForm } = useForm()\n  \n  const handleSubmit = (e) => {\n    e.preventDefault()\n    onPlaceAdd({\n      name: values.title,\n      link: values.picture\n    })\n  }\n  \n  useEffect(() => {\n    resetForm()\n  }, [ resetForm, isOpen ])\n  \n  \n  return (\n      <PopupWithForm\n          name=\"card\"\n          title=\"Новое место\"\n          buttonText=\"Создать\"\n          isOpen={ isOpen }\n          isLoading={ isLoading }\n          onClose={ onClose }\n          onSubmit={ handleSubmit }\n          isFormValid={ isValid }\n      >\n        <input\n            aria-label=\"Поле ввода для названия карточки\"\n            className={ `modal__input modal__input_field_title ${ errors[\"card-field-title\"] ? \"modal__input_error\" : \"\" }` }\n            id=\"field_title\"\n            maxLength=\"30\"\n            minLength=\"2\"\n            name=\"title\"\n            placeholder=\"Название\"\n            required\n            type=\"text\"\n            value={ values.title || \"\" }\n            onChange={ handleChange }\n        />\n        <span className=\"modal__error modal__error_field_title\">\n          { errors.title }\n        </span>\n        <input\n            aria-label=\"Поле ввода для адреса картинки\"\n            className={ `modal__input modal__input_field_picture ${ errors.picture ? \"modal__input_error\" : \"\" }` }\n            id=\"field_picture\"\n            name=\"picture\"\n            placeholder=\"Ссылочка на картиночку\"\n            required\n            type=\"url\"\n            onChange={ handleChange }\n            value={ values.picture || \"\" }\n        />\n        <span className=\"modal__error modal__error_field_picture\">\n          { errors.picture }\n        </span>\n      </PopupWithForm>\n  )\n}\n\nexport default AddPlacePopup\n","import { useEffect } from \"react\"\nimport useForm from \"../hooks/useForm\"\nimport PopupWithForm from \"./PopupWithForm\"\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, isLoading }) {\n  \n  const { handleChange, isValid, values, errors, resetForm } = useForm()\n  \n  const handleSubmit = (e) => {\n    e.preventDefault()\n    onUpdateAvatar(values.avatar)\n  }\n  \n  useEffect(() => {\n    resetForm()\n  }, [ resetForm, isOpen ])\n  \n  return (\n      <PopupWithForm\n          name=\"avatar\"\n          title=\"Обновить аватар\"\n          buttonText=\"Сохранить\"\n          isOpen={ isOpen }\n          isLoading={ isLoading }\n          onClose={ onClose }\n          onSubmit={ handleSubmit }\n          isFormValid={ isValid }\n      >\n        <input\n            aria-label=\"Поле ввода для ссылки на картинку\"\n            className={ `modal__input modal__input_field_avatar ${ errors.avatar ? \"modal__input_error\" : \"\" }` }\n            id=\"field_avatar\"\n            name=\"avatar\"\n            placeholder=\"Ссылка на новую картинку профиля\"\n            required\n            type=\"url\"\n            value={ values.avatar || \"\" }\n            onChange={ handleChange }\n        />\n        <span className=\"modal__error modal__error_field_avatar\">\n          { errors.avatar }\n        </span>\n      \n      </PopupWithForm>\n  )\n}\n\nexport default EditAvatarPopup\n","import { useContext, useEffect } from \"react\"\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\"\nimport useForm from \"../hooks/useForm\"\nimport PopupWithForm from \"./PopupWithForm\"\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser, isLoading }) {\n  \n  const { handleChange, isValid, values, errors, resetForm } = useForm()\n  \n  const currentUser = useContext(CurrentUserContext)\n  \n  const handleSubmit = (e) => {\n    e.preventDefault()\n    onUpdateUser({\n      name: values.name,\n      about: values.about\n    })\n  }\n  \n  useEffect(() => {\n    currentUser ? resetForm(currentUser) : resetForm()\n  }, [ resetForm, isOpen, currentUser ])\n  \n  \n  return (\n      <PopupWithForm\n          name=\"bio\"\n          title=\"Редактировать профиль\"\n          buttonText=\"Сохранить\"\n          isOpen={ isOpen }\n          isLoading={ isLoading }\n          onClose={ onClose }\n          onSubmit={ handleSubmit }\n          isFormValid={ isValid }\n      >\n        <input\n            aria-label=\"Поле ввода для имени\"\n            className=\"modal__input modal__input_field_name\"\n            id=\"field_name\"\n            maxLength=\"40\"\n            minLength=\"2\"\n            name=\"name\"\n            placeholder=\"Ваше имя\"\n            required\n            type=\"text\"\n            value={ values.name || \"\" }\n            onChange={ handleChange }\n        />\n        <span className=\"modal__error modal__error_field_name\">\n          { errors.name }\n        </span>\n        <input\n            aria-label=\"Поле ввода для описания\"\n            className=\"modal__input modal__input_field_desc\"\n            id=\"field_desc\"\n            maxLength=\"200\"\n            minLength=\"2\"\n            name=\"about\"\n            placeholder=\"Расскажите о себе\"\n            required\n            type=\"text\"\n            value={ values.about || \"\" }\n            onChange={ handleChange }\n        />\n        <span className=\"modal__error modal__error_field_desc\">\n          { errors.about }\n        </span>\n      </PopupWithForm>\n  \n  )\n}\n\nexport default EditProfilePopup\n","function Footer() {\n  return (\n      <footer className=\"footer page__footer\">\n        <p className=\"footer__copyright\">© 2021 Mesto Russia</p>\n      </footer>\n  )\n}\n\nexport default Footer\n","export default __webpack_public_path__ + \"static/media/logo_color_white.7185dafb.svg\";","import React from \"react\"\n\nconst Menu = ({ userEmail, signOut, isMobile }) => {\n  \n  \n  return (\n      <div className={ `header__nav ${ isMobile ? \"header__nav_viewport_mobile\" : \"header__nav_viewport_desktop\" } ` }>\n        { userEmail\n          ?\n          <p className=\"header__email\">\n            { userEmail }\n          </p>\n          : \"\" }\n        \n        <button\n            className=\"header__link header__link_type_button button\"\n            type=\"button\"\n            onClick={ signOut }\n        >\n          Выйти\n        </button>\n      </div>\n  )\n}\n\nexport default Menu\n","import { Link, Route, Switch, useHistory } from 'react-router-dom';\nimport headerLogo from '../images/logo/logo_color_white.svg';\nimport { logout } from '../utils/auth';\nimport Menu from './Menu';\n\nfunction Header({ userEmail, isLoggedIn, onLogOut, isMenuActive, showMenu }) {\n  \n  const history = useHistory();\n  \n  const signOut = async () => {\n    await logout();\n    onLogOut(false);\n    history.push('/signin');\n  };\n  \n  const toggleMenu = () => {\n    showMenu(!isMenuActive);\n  };\n  \n  return (\n      <header className=\"header page__header\">\n        { (isLoggedIn && isMenuActive) && <Menu\n            userEmail={ userEmail }\n            isMenuActive={ isMenuActive }\n            signOut={ signOut }\n            isMobile={ true }\n        /> }\n        <div className=\"header__wrapper\">\n          <Switch>\n            <Route path=\"/signup\">\n              <Link\n                  className=\"button\"\n                  to=\"/\"\n              >\n                <img\n                    alt=\"Логотип сервиса «Место».\"\n                    className=\"header__logo\"\n                    src={ headerLogo }\n                />\n              </Link>\n              <Link\n                  className=\"header__link button link\"\n                  to=\"/signin\"\n              >Войти</Link>\n            </Route>\n            \n            <Route path=\"/signin\">\n              <Link\n                  className=\"button\"\n                  to=\"/\"\n              >\n                <img\n                    alt=\"Логотип сервиса «Место».\"\n                    className=\"header__logo\"\n                    src={ headerLogo }\n                />\n              </Link>\n              <Link\n                  className=\"header__link button link\"\n                  to=\"/signup\"\n              >Регистрация</Link>\n            </Route>\n            \n            <Route\n                exact\n                path=\"/\"\n            >\n              <Link\n                  className=\"button\"\n                  to=\"/\"\n              >\n                <img\n                    alt=\"Логотип сервиса «Место».\"\n                    className=\"header__logo\"\n                    src={ headerLogo }\n                />\n              </Link>\n              <div className=\"header__menu-wrapper\">\n                <Menu\n                    userEmail={ userEmail }\n                    isMenuActive={ isMenuActive }\n                    signOut={ signOut }\n                    isMobile={ false }\n                />\n                {\n                    isLoggedIn && (\n                        <button\n                            className={ `header__menu-button ${ isMenuActive ? 'header__menu-button_active' : '' }` }\n                            onClick={ toggleMenu }\n                            type=\"button\"\n                        >\n                          <span/>\n                        </button>)\n                }\n              \n              </div>\n            </Route>\n          \n          </Switch>\n        </div>\n      \n      \n      </header>\n  );\n}\n\nexport default Header;\n","import Popup from \"./Popup\"\n\nfunction ImagePopup({ isOpen, card, onClose }) {\n  \n  const { link, name } = card\n  \n  return (\n      <Popup\n          isOpen={ isOpen }\n          onClose={ onClose }\n          name=\"picture\"\n      >\n        <img\n            alt={ `Фотография из карточки. Название: ${ name }` }\n            className=\"modal__image\"\n            src={ link ? link : \"\" }\n        />\n        <p className=\"modal__caption\">{ name }</p>\n      </Popup>\n  )\n}\n\nexport default ImagePopup\n","export default __webpack_public_path__ + \"static/media/success.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/fail.df8eddf6.svg\";","import Popup from \"./Popup\"\nimport successIcon from \"../images/tooltip/success.svg\"\nimport failIcon from \"../images/tooltip/fail.svg\"\n\nconst InfoTooltip = ({ isOpen, onClose, isSuccess }) => {\n  \n  return (\n      <Popup\n          isOpen={ isOpen }\n          name=\"tooltip\"\n          onClose={ onClose }\n      >\n        <div className=\"tooltip\">\n          {\n            isSuccess\n            ?\n            (<>\n              <img\n                  src={successIcon}\n                  alt=\"\"\n                  className=\"tooltip__icon\"\n              />\n              <h2 className=\"tooltip__message\">\n                Вы успешно зарегистрировались!\n              </h2>\n            </>)\n            :\n            (<>\n              <img\n                  src={failIcon}\n                  alt=\"\"\n                  className=\"tooltip__icon\"\n              />\n              <h2 className=\"tooltip__message\">\n                Что-то пошло не так!\n                Попробуйте ещё раз.\n              </h2>\n            </>)\n          }\n        </div>\n      </Popup>\n  )\n}\n\nexport default InfoTooltip\n","import { useEffect } from \"react\"\n\nconst AuthForm = ({\n  buttonText, onSubmit, formData, onChange, errors, resetForm, isFormValid, isLoading\n}) => {\n  \n  useEffect(() => {\n    resetForm()\n  }, [ resetForm ])\n  \n  return (\n      <form\n          className=\"auth__form\"\n          name=\"signin\"\n          onSubmit={ onSubmit }\n      >\n        <fieldset className=\"fieldset auth__fieldset\">\n          <input\n              className=\"auth__input\"\n              type=\"email\"\n              name=\"email\"\n              placeholder=\"Email\"\n              value={ formData.email || \"\" }\n              onChange={ onChange }\n              required\n          />\n          <span className=\"modal__error\">\n            { errors.email }\n          </span>\n          <input\n              className=\"auth__input\"\n              type=\"password\"\n              name=\"password\"\n              placeholder=\"Пароль\"\n              minLength=\"4\"\n              maxLength=\"32\"\n              value={ formData.password || \"\" }\n              onChange={ onChange }\n              required\n          />\n          <span className=\"modal__error\">\n          { errors.password }\n          </span>\n        </fieldset>\n        <button\n            disabled={ !isFormValid || isLoading }\n            className={`auth__button ${ isFormValid && !isLoading ? \"\" : \"auth__button_disabled\" }`}\n            type=\"submit\"\n        >\n          { isLoading ? \"⏳ Обработка\" : buttonText }\n        </button>\n      \n      </form>\n  )\n}\n\nexport default AuthForm\n","import useForm from \"../hooks/useForm\"\nimport AuthForm from \"./AuthForm\"\n\nconst Login = ({ isLoading, onSignin }) => {\n  \n  const { handleChange, isValid, values, errors, resetForm } = useForm()\n  \n  const handleSubmit = (event) => {\n    event.preventDefault()\n    onSignin(values)\n  }\n  \n  return (\n      <main className=\"auth page__main\">\n        <section className=\"auth__container\">\n          <h2 className=\"auth__title\">\n            Вход\n          </h2>\n          <AuthForm\n              onChange={ handleChange }\n              onSubmit={ handleSubmit }\n              formData={ values }\n              buttonText=\"Войти\"\n              isFormValid={ isValid }\n              errors={ errors }\n              resetForm={ resetForm }\n              isLoading={ isLoading }\n          />\n        </section>\n      \n      </main>\n  )\n}\n\nexport default Login\n","import React, { useContext } from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Card({ cardData, onCardClick, onCardLike, onCardDeleteClick }) {\n  \n  const currentUser = useContext(CurrentUserContext);\n  \n  const { name, link, likes, owner, _id: cardId } = cardData;\n  \n  const isOwn = owner._id === currentUser._id;\n  const galleryDeleteButtonClassName = (\n      `delete gallery__delete-btn ${ isOwn ? '' : 'delete_hidden' }`\n  );\n  \n  const isLiked = likes.some(like => like._id === currentUser._id);\n  \n  const galleryLikeButtonClassName = (\n      `like gallery__like-btn ${ isLiked ? 'like_active' : '' }`);\n  \n  const handleCardClick = () => {\n    onCardClick(cardData);\n  };\n  \n  const handleLikeClick = () => {\n    onCardLike(cardData);\n  };\n  \n  const handleCardDeleteClick = () => {\n    onCardDeleteClick(cardId);\n  };\n  \n  return (\n      <li className=\"gallery__item\">\n        <div className=\"gallery__image-container\">\n          <div className=\"gallery__image-wrapper\">\n            <img\n                className=\"gallery__image\"\n                src={ link }\n                alt={ `Карточка с фотографией. Название: ${ name }` }\n                onClick={ handleCardClick }\n            />\n          </div>\n        </div>\n        <button\n            className={ galleryDeleteButtonClassName }\n            type=\"button\"\n            onClick={ handleCardDeleteClick }\n        />\n        <div className=\"gallery__caption\">\n          <p className=\"gallery__text\">{ name }</p>\n          <div className=\"gallery__like-btn-wrapper\">\n            <button\n                className={ galleryLikeButtonClassName }\n                type=\"button\"\n                onClick={ handleLikeClick }\n            />\n            <span className=\"gallery__like-btn-counter\">{ likes.length }</span>\n          </div>\n        </div>\n      </li>\n  );\n}\n\nexport default Card;\n","import { useContext } from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport Card from './Card';\n\nfunction Main({\n  cards,\n  onEditAvatar,\n  onEditProfile,\n  onAddPlace,\n  onCardClick,\n  onCardLike,\n  onCardDeleteClick\n}) {\n  \n  const currentUser = useContext(CurrentUserContext);\n  \n  return (\n      <main className=\"main page__main\">\n        <section\n            aria-label=\"Профиль пользователя\"\n            className=\"profile main__profile\"\n        >\n          <div className=\"profile__bio\">\n            <div className=\"profile__avatar-wrapper\">\n              <img\n                  alt=\"Фотография профиля пользователя\"\n                  className=\"profile__avatar\"\n                  src={ currentUser.avatar }\n              />\n              <button\n                  className=\"button profile__avatar-btn\"\n                  onClick={ onEditAvatar }\n              />\n            </div>\n            <div className=\"profile__details\">\n              <div className=\"profile__row\">\n                <h1 className=\"profile__name\">{ currentUser.name }</h1>\n                <button\n                    className=\"button profile__edit-btn\"\n                    type=\"button\"\n                    onClick={ onEditProfile }\n                />\n              </div>\n              <p className=\"profile__desc\">{ currentUser.about }</p>\n            </div>\n            <button\n                className=\"button profile__add-btn\"\n                type=\"button\"\n                onClick={ onAddPlace }\n            />\n          </div>\n        </section>\n        <section\n            aria-label=\"Фотографии пользователя\"\n            className=\"gallery\"\n        >\n          <ul className=\"gallery__grid\">\n            {\n              cards.length\n                  ? (\n                      cards.map((card) =>\n                          (<Card\n                              cardData={ card }\n                              key={ card._id }\n                              onCardClick={ onCardClick }\n                              onCardLike={ onCardLike }\n                              onCardDeleteClick={ onCardDeleteClick }\n                          />)))\n                  : (<li>Карточек нет</li>)\n            }\n          </ul>\n        </section>\n      </main>\n  \n  );\n}\n\nexport default Main;\n","import { useEffect } from \"react\"\nimport useForm from \"../hooks/useForm\"\nimport PopupWithForm from \"./PopupWithForm\"\n\nfunction PopupWithConfirmation({\n  isOpen,\n  isLoading,\n  onClose,\n  onSubmit,\n  card\n}) {\n  \n  const { isValid, resetForm } = useForm()\n  \n  const handleConfirmationAction = (e) => {\n    e.preventDefault()\n    onSubmit(card)\n  }\n  \n  useEffect(() => {\n    resetForm(null, null, true)\n  }, [ resetForm, isOpen ])\n  \n  return (\n      <PopupWithForm\n          name=\"confirm\"\n          title=\"Вы уверены?\"\n          buttonText=\"Да\"\n          isOpen={ isOpen }\n          isLoading={ isLoading }\n          onClose={ onClose }\n          onSubmit={ handleConfirmationAction }\n          isFormValid={ isValid }\n      >\n      </PopupWithForm>\n  )\n  \n}\n\nexport default PopupWithConfirmation\n","import React from 'react';\nimport { Redirect, Route } from 'react-router-dom';\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n  return (\n      <Route>\n        { () =>\n            props.loggedIn ? <Component { ...props } /> :\n                <Redirect to=\"/signin\"/>\n        }\n      </Route>\n  );\n};\n\nexport default ProtectedRoute;\n","import { Link } from \"react-router-dom\"\nimport useForm from \"../hooks/useForm\"\nimport AuthForm from \"./AuthForm\"\n\nconst Register = ({ isLoading, onSignup }) => {\n  \n  const { handleChange, isValid, values, errors, resetForm } = useForm()\n  \n  const handleSubmit = (event) => {\n    event.preventDefault()\n    onSignup(values)\n  }\n  return (\n      <main className=\"auth page__main\">\n        <section className=\"auth__container\">\n          <h2 className=\"auth__title\">\n            Регистрация\n          </h2>\n          <AuthForm\n              onChange={ handleChange }\n              onSubmit={ handleSubmit }\n              formData={ values }\n              buttonText=\"Зарегистрироваться\"\n              isFormValid={ isValid }\n              errors={ errors }\n              resetForm={ resetForm }\n              isLoading={ isLoading }\n          />\n          <Link\n              className=\"auth__link button link\"\n              to=\"/sign-in\"\n          >\n            Уже&nbsp;зарегистрированы? Войти\n          </Link>\n        </section>\n      \n      </main>\n  )\n}\n\nexport default Register\n","import { useCallback, useEffect, useState } from 'react';\nimport { Route, Switch, useHistory } from 'react-router-dom';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport '../index.css';\nimport api from '../utils/api';\nimport * as auth from '../utils/auth';\nimport AddPlacePopup from './AddPlacePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport Footer from './Footer';\nimport Header from './Header';\nimport ImagePopup from './ImagePopup';\nimport InfoTooltip from './InfoTooltip';\nimport Login from './Login';\nimport Main from './Main';\nimport PopupWithConfirmation from './PopupWithConfirmation';\nimport ProtectedRoute from './ProtectedRoute';\nimport Register from './Register';\n\n\nfunction App() {\n  const [ isSignUpSuccessful, setIsSignUpSuccessful ] = useState(false);\n  const [ isLoggedIn, setIsLoggedIn ] = useState(false);\n  const [ currentUser, setCurrentUser ] = useState(\n      {\n        'name': '',\n        'about': '',\n        'avatar': '',\n        '_id': '',\n        'cohort': ''\n      });\n  const [ userEmail, setUserEmail ] = useState('');\n  const [ cards, setCards ] = useState([]);\n  const [ selectedCard, setSelectedCard ] = useState({ name: '', link: '' });\n  const [ cardToRemoveId, setCardToRemoveId ] = useState('');\n  const [ isEditAvatarPopupOpen, setIsEditAvatarPopupOpen ] = useState(false);\n  const [ isEditProfilePopupOpen, setIsEditProfilePopupOpen ] = useState(false);\n  const [ isAddPlacePopupOpen, setIsAddPlacePopupOpen ] = useState(false);\n  const [ isConfirmationPopupOpen, setIsConfirmationPopupOpen ] = useState(\n      false);\n  const [ isImagePopupOpen, setIsImagePopupOpen ] = useState(false);\n  const [ tooltip, setTooltip ] = useState(false);\n  const [ isMenuActive, setIsMenuActive ] = useState(false);\n  const [ isLoading, setIsLoading ] = useState(false);\n  const history = useHistory();\n  \n  // Элементы UI блока карточек\n  \n  const handleCardLike = (card) => {\n    const isLiked = card.likes.some(like => like._id === currentUser._id);\n    api.changeLikeCardStatus(card._id, isLiked).then((newCard) => {\n      setCards((cards) => cards.map((c) => c._id === card._id ? newCard : c));\n    }).catch(err => console.log(err));\n  };\n  \n  const handleAddPlaceSubmit = (card) => {\n    handlePopupLoader(true);\n    api.createNewPlace(card)\n        .then((newFetchedCard) => {\n          setCards([ newFetchedCard, ...cards ]);\n          closeAllPopups();\n        })\n        .catch(err => console.log(err))\n        .finally(() => {\n          handlePopupLoader(false);\n        });\n  };\n  \n  const handleCardDeleteClick = (cardId) => {\n    setIsConfirmationPopupOpen(!isConfirmationPopupOpen);\n    setCardToRemoveId(cardId);\n  };\n  \n  const handleCardDelete = (cardToRemoveId) => {\n    handlePopupLoader(true);\n    api.removePlace(cardToRemoveId)\n        .then(() => {\n          setCards((cards) => cards.filter(c => c._id !== cardToRemoveId));\n          closeAllPopups();\n        })\n        .catch(err => console.log(err))\n        .finally(() => {\n          handlePopupLoader(false);\n        });\n  };\n  \n  // Элементы UI в профиле\n  \n  const handleEditAvatarClick = () => {\n    setIsEditAvatarPopupOpen(!isEditAvatarPopupOpen);\n  };\n  \n  const handleEditProfileClick = () => {\n    setIsEditProfilePopupOpen(!isEditProfilePopupOpen);\n  };\n  \n  const handleAddPlaceClick = () => {\n    setIsAddPlacePopupOpen(!isAddPlacePopupOpen);\n  };\n  \n  const handleCardClick = (cardData) => {\n    setIsImagePopupOpen(!isImagePopupOpen);\n    setSelectedCard(cardData);\n  };\n  \n  // Элементы UI в попапах\n  \n  const closeAllPopups = () => {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsImagePopupOpen(false);\n    setIsConfirmationPopupOpen(false);\n    setTooltip(false);\n    setSelectedCard({ name: '', link: '' });\n  };\n  \n  const handlePopupLoader = (isLoading) => {\n    setIsLoading(isLoading);\n  };\n  \n  const handleUpdateUser = (newUserInfo) => {\n    handlePopupLoader(true);\n    api.setUserInfo(newUserInfo)\n        .then((newFetchedData) => {\n          setCurrentUser(newFetchedData);\n          closeAllPopups();\n        })\n        .catch(err => console.log(err))\n        .finally(() => {\n          handlePopupLoader(false);\n        });\n  };\n  \n  const handleUpdateAvatar = (newAvatar) => {\n    handlePopupLoader(true);\n    api.setUserAvatar(newAvatar)\n        .then((newFetchedAvatar) => {\n          setCurrentUser(newFetchedAvatar);\n          closeAllPopups();\n        })\n        .catch(err => console.log(err))\n        .finally(() => {\n          handlePopupLoader(false);\n        });\n  };\n  \n  // Управление состоянием авторизации\n  \n  const handleLogin = (status) => {\n    setIsLoggedIn(status);\n  };\n  \n  const handleRegistration = (values) => {\n    setIsLoading(true);\n    auth.register(values).then(response => {\n      setIsSignUpSuccessful(true);\n      setTooltip(true);\n      history.push('/signin');\n    })\n        .catch((error) => {\n          console.log(error);\n          setIsSignUpSuccessful(false);\n          setTooltip(true);\n        })\n        .finally(() => setIsLoading(false));\n  };\n  \n  const handleAuth = (values) => {\n    setIsLoading(true);\n    auth.login(values).then(_ => {\n      setIsLoggedIn(true);\n      history.push('/');\n    })\n        .catch((error) => {\n          setIsLoggedIn(false);\n          console.log(error);\n        })\n        .finally(() => setIsLoading(false));\n  };\n  \n  \n  const tokenCheck = useCallback(() => {\n    auth.getContent().then((response) => {\n      if (response) {\n        setIsLoggedIn(true);\n        setUserEmail(response.email);\n        history.push('/');\n      }\n    }).catch((error) => {\n      console.log(error);\n      setIsLoggedIn(false);\n      setUserEmail('');\n    });\n  }, [ history ]);\n  \n  useEffect(() => {\n    tokenCheck();\n    setIsMenuActive(false);\n  }, [ tokenCheck ]);\n  \n  useEffect(() => {\n    if (isLoggedIn) {\n      Promise.all([ api.getPlaces(), api.getUserInfo() ])\n          .then(([ places, userInfo ]) => {\n            setCards(places);\n            setCurrentUser(userInfo);\n          })\n          .catch(error => {\n            console.log(error);\n          });\n    }\n  }, [ isLoggedIn ]);\n  \n  \n  return (\n      <CurrentUserContext.Provider value={ currentUser }>\n        <div className=\"page\">\n          <div className=\"page__container\">\n            <Header\n                userEmail={ userEmail }\n                isLoggedIn={ isLoggedIn }\n                onLogOut={ setIsLoggedIn }\n                isMenuActive={ isMenuActive }\n                showMenu={ setIsMenuActive }\n            />\n            <Switch>\n              <ProtectedRoute\n                  exact\n                  path=\"/\"\n                  loggedIn={ isLoggedIn }\n                  cards={ cards }\n                  onEditAvatar={ handleEditAvatarClick }\n                  onEditProfile={ handleEditProfileClick }\n                  onAddPlace={ handleAddPlaceClick }\n                  onCardClick={ handleCardClick }\n                  onCardLike={ handleCardLike }\n                  onCardDeleteClick={ handleCardDeleteClick }\n                  component={ Main }\n              />\n              <Route path=\"/signup\">\n                <Register\n                    isLoading={ isLoading }\n                    onSignup={ handleRegistration }\n                />\n              </Route>\n              <Route path=\"/signin\">\n                <Login\n                    isLoggedIn={ handleLogin }\n                    isLoading={ isLoading }\n                    onSignin={ handleAuth }\n                    setIsLoading={ setIsLoading }\n                />\n              </Route>\n            </Switch>\n            <EditAvatarPopup\n                isOpen={ isEditAvatarPopupOpen }\n                isLoading={ isLoading }\n                onClose={ closeAllPopups }\n                onUpdateAvatar={ handleUpdateAvatar }\n            />\n            \n            <EditProfilePopup\n                isOpen={ isEditProfilePopupOpen }\n                isLoading={ isLoading }\n                onClose={ closeAllPopups }\n                onUpdateUser={ handleUpdateUser }\n            />\n            \n            <AddPlacePopup\n                isOpen={ isAddPlacePopupOpen }\n                isLoading={ isLoading }\n                onClose={ closeAllPopups }\n                onPlaceAdd={ handleAddPlaceSubmit }\n            />\n            \n            <PopupWithConfirmation\n                isOpen={ isConfirmationPopupOpen }\n                isLoading={ isLoading }\n                onClose={ closeAllPopups }\n                onSubmit={ handleCardDelete }\n                card={ cardToRemoveId }\n            />\n            \n            <ImagePopup\n                isOpen={ isImagePopupOpen }\n                card={ selectedCard }\n                onClose={ closeAllPopups }\n            />\n            \n            <InfoTooltip\n                isOpen={ tooltip }\n                onClose={ closeAllPopups }\n                isSuccess={ isSignUpSuccessful }\n            />\n            <Footer/>\n          \n          \n          </div>\n        </div>\n      </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { BrowserRouter } from \"react-router-dom\"\nimport App from \"./components/App\"\nimport \"./index.css\"\n\nReactDOM.render(\n    <React.StrictMode>\n      <BrowserRouter>\n        <App/>\n      </BrowserRouter>\n    </React.StrictMode>,\n    document.getElementById(\"root\")\n)\n"],"sourceRoot":""}