{"version":3,"sources":["auth.js","contexts/CurrentUserContext.js","utils/api.js","hooks/useForm.js","components/Form.js","components/Popup.js","components/PopupWithForm.js","components/AddPlacePopup.js","components/EditAvatarPopup.js","components/EditProfilePopup.js","components/Footer.js","images/logo/logo_color_white.svg","components/Header.js","components/ImagePopup.js","images/tooltip/success.svg","images/tooltip/fail.svg","components/InfoTooltip.js","components/AuthForm.js","components/Login.js","components/Card.js","components/Main.js","components/PopupWithConfirmation.js","components/ProtectedRoute.js","components/Register.js","components/App.js","index.js"],"names":["BASE_URL","CurrentUserContext","createContext","api","token","this","_url","_headers","authorization","res","ok","json","Promise","reject","status","fetch","method","headers","then","_onResponse","userInfo","body","JSON","stringify","name","about","avatarLink","avatar","link","cardId","isLiked","useForm","useState","values","setValues","errors","setErrors","isValid","setIsValid","resetForm","useCallback","newValues","newErrors","newIsValid","handleChange","event","target","value","validationMessage","closest","checkValidity","Form","onSubmit","title","isLoading","buttonText","children","className","disabled","type","Popup","isOpen","onClose","useEffect","documentWidth","document","documentElement","clientWidth","scrollBarWidth","window","innerWidth","style","overflow","paddingRight","closeByEscape","e","key","addEventListener","removeEventListener","onClick","currentTarget","PopupWithForm","isFormValid","AddPlacePopup","onPlaceAdd","preventDefault","picture","id","maxLength","minLength","placeholder","required","onChange","EditAvatarPopup","onUpdateAvatar","EditProfilePopup","onUpdateUser","currentUser","useContext","Footer","Header","userEmail","history","useHistory","to","alt","src","headerLogo","path","exact","localStorage","removeItem","push","ImagePopup","card","InfoTooltip","isSuccess","successIcon","failIcon","AuthForm","formData","email","password","Login","isLoggedIn","setIsLoading","userData","response","setItem","catch","error","console","log","finally","Card","cardData","onCardClick","onCardLike","onCardDeleteClick","likes","owner","_id","isOwn","galleryDeleteButtonClassName","some","like","galleryLikeButtonClassName","length","Main","cards","onEditAvatar","onEditProfile","onAddPlace","map","PopupWithConfirmation","ProtectedRoute","Component","component","props","loggedIn","Register","signUpStatus","handleInfoTooltip","App","isSignUpSuccessful","setIsSignUpSuccessful","setIsLoggedIn","setCurrentUser","setUserEmail","setCards","selectedCard","setSelectedCard","cardToRemoveId","setCardToRemoveId","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isConfirmationPopupOpen","setIsConfirmationPopupOpen","isImagePopupOpen","setIsImagePopupOpen","tooltip","setTooltip","closeAllPopups","handlePopupLoader","tokenCheck","getItem","jwt","data","all","getPlaces","getUserInfo","places","Provider","changeLikeCardStatus","newCard","c","err","newAvatar","setUserAvatar","newFetchedAvatar","newUserInfo","setUserInfo","newFetchedData","createNewPlace","newFetchedCard","removePlace","filter","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.16b821f0.chunk.js","sourcesContent":["export const BASE_URL = \"https://auth.nomoreparties.co\"\n\nexport const register = (userData) => {\n  return fetch(`${ BASE_URL }/signup`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(userData)\n  }).then((response) => {\n    if (response.ok) {\n      return response.json()\n    }\n    return Promise.reject(`>>> Ошибка: ${ response.status }`)\n  })\n}\n\nexport const login = (userData) => {\n  return fetch(`${ BASE_URL }/signin`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(userData)\n  }).then((response) => {\n    if (response.ok) {\n      return response.json()\n    }\n    return Promise.reject(`>>> Ошибка: ${ response.status }`)\n  })\n}\n\nexport const getContent = (token) => {\n  return fetch(`${ BASE_URL }/users/me`, {\n    method: \"GET\",\n    headers: {\n      \"Accept\": \"application/json\",\n      \"Content-Type\": \"application/json\",\n      \"Authorization\": `Bearer ${ token }`,\n    }\n  })\n      .then(res => res.json())\n      .then(data => data)\n}\n","import { createContext } from \"react\"\n\nexport const CurrentUserContext = createContext()\n","class Api {\n  constructor( token ) {\n    this._url = \"https://nomoreparties.co/v1/cohort-30/\"\n    this._headers = {\n      authorization: token,\n      \"Content-Type\": \"application/json\"\n    }\n  }\n  \n  _onResponse(res) {\n    if (res.ok) {\n      return res.json()\n    }\n    return Promise.reject(`>>> Ошибка: ${ res.status }`)\n  }\n  \n  getUserInfo() {\n    return fetch(`${ this._url }users/me/`, {\n      method: \"GET\",\n      headers: this._headers\n    }).then(this._onResponse)\n  }\n  \n  setUserInfo(userInfo) {\n    return fetch(`${ this._url }users/me/`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify(\n          {\n            name: userInfo.name,\n            about: userInfo.about,\n          }\n      )\n    }).then(this._onResponse)\n  }\n  \n  setUserAvatar(avatarLink) {\n    return fetch(`${ this._url }users/me/avatar/`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify(\n          {\n            avatar: avatarLink\n          }\n      )\n    }).then(this._onResponse)\n  }\n  \n  getPlaces() {\n    return fetch(`${ this._url }cards`, {\n      method: \"GET\",\n      headers: this._headers\n    }).then(this._onResponse)\n  }\n  \n  createNewPlace({ name, link }) {\n    return fetch(`${ this._url }cards`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify(\n          {\n            name: name,\n            link: link\n          }\n      )\n    }).then(this._onResponse)\n  }\n  \n  changeLikeCardStatus(cardId, isLiked) {\n    return fetch(`${ this._url }cards/likes/${ cardId }`, {\n      method: `${ isLiked ? \"DELETE\" : \"PUT\" }`,\n      headers: this._headers,\n    }).then(this._onResponse)\n  }\n  \n  removePlace(cardId) {\n    return fetch(`${ this._url }cards/${ cardId }`, {\n      method: \"DELETE\",\n      headers: this._headers,\n    }).then(this._onResponse)\n  }\n}\n\n const api = new Api(\"a2e8d35a-8087-4045-b36f-fee28ac34f65\")\n\nexport default api\n","import { useCallback, useState } from \"react\"\n\nconst useForm = () => {\n  const [ values, setValues ] = useState({})\n  const [ errors, setErrors ] = useState({})\n  const [ isValid, setIsValid ] = useState(false)\n  \n  const handleChange = (event) => {\n    const name = event.target.name\n    const value = event.target.value\n    \n    setValues({\n      ...values,\n      [name]: value,\n    })\n    \n    setErrors({\n      ...errors,\n      [name]: event.target.validationMessage\n    })\n    \n    setIsValid(event.target.closest(\"form\").checkValidity())\n  }\n  \n  const resetForm = useCallback((newValues = {}, newErrors = {}, newIsValid = false ) => {\n    setValues(newValues)\n    setErrors(newErrors)\n    setIsValid(newIsValid)\n  }, [ setValues, setErrors, setIsValid ])\n  \n  \n  return {\n    values,\n    errors,\n    handleChange,\n    isValid,\n    resetForm\n  }\n}\n\nexport default useForm\n","const Form = ({\n  name, onSubmit, title, isLoading, buttonText, children, isValid\n}) => {\n  \n  return (\n      <form\n          className=\"modal__form\"\n          name={ `${ name }-form` }\n          onSubmit={ onSubmit }\n      >\n        <h2 className=\"modal__title\">{ title }</h2>\n        { name === \"confirm\" ? null : children }\n        <button\n            disabled={ name === \"confirm\" ? false : !isValid || isLoading }\n            className={ `modal__button ${ isValid && !isLoading ? \"\" : \"modal__button_disabled\" }` }\n            type=\"submit\"\n        >\n          { isLoading ? \"⏳ Сохранение...\" : buttonText }\n        </button>\n      </form>\n  )\n}\n\nexport default Form\n","import { useEffect } from \"react\"\n\nconst Popup = ({ isOpen, name, onClose, children }) => {\n  \n\n  \n  useEffect(() => {\n    if (!isOpen) return\n  \n    const documentWidth = document.documentElement.clientWidth;\n    const windowWidth = window.innerWidth;\n    const scrollBarWidth = windowWidth - documentWidth;\n    \n    document.body.style.overflow = \"hidden\"\n    document.body.style.paddingRight = `${scrollBarWidth}px`;\n    \n    return () => {\n      document.body.style.overflow = \"auto\"\n      document.body.style.paddingRight = null;\n    }\n  }, [isOpen])\n  \n  useEffect(() => {\n    if (!isOpen) return\n    \n    const closeByEscape = (e) => {\n      if (e.key === \"Escape\") {\n        onClose()\n      }\n    }\n    \n    document.addEventListener(\"keydown\", closeByEscape)\n    return () => document.removeEventListener(\"keydown\", closeByEscape)\n    \n  }, [ isOpen, onClose ])\n  \n  const handleOverlay = (e) => {\n    if (e.target === e.currentTarget) {\n      onClose()\n    }\n  }\n  \n  \n  return (\n      <section\n          className={ `modal modal_type_${ name } page__modal ${ isOpen ? \"modal_active\" : \"\" }` }\n          onClick={ handleOverlay }\n      >\n        <div className={ `modal__${ name === \"picture\" ? \"figure\" : \"container\" }` }>\n          <button\n              className=\"modal__close-btn\"\n              type=\"button\"\n              onClick={ onClose }\n          />\n          { children }\n        </div>\n      \n      </section>\n  )\n}\n\nexport default Popup\n","import Form from \"./Form\"\nimport Popup from \"./Popup\"\n\nfunction PopupWithForm({\n  name,\n  title,\n  buttonText = \"Сохранить\",\n  children,\n  isOpen,\n  onClose,\n  onSubmit,\n  isLoading,\n  isFormValid\n}) {\n  return (\n      <Popup\n          isOpen={ isOpen }\n          name={ name }\n          onClose={ onClose }\n      >\n        <Form\n            name={ name }\n            title={ title }\n            onSubmit={ onSubmit }\n            buttonText={ buttonText }\n            isLoading={ isLoading }\n            isValid={ isFormValid }\n        >\n          { children }\n        </Form>\n      </Popup>\n  )\n}\n\nexport default PopupWithForm\n","import { useEffect } from \"react\"\nimport useForm from \"../hooks/useForm\"\nimport PopupWithForm from \"./PopupWithForm\"\n\nfunction AddPlacePopup({ isOpen, onClose, onPlaceAdd, isLoading }) {\n  \n  const { handleChange, isValid, values, errors, resetForm } = useForm()\n  \n  const handleSubmit = (e) => {\n    e.preventDefault()\n    onPlaceAdd({\n      name: values.title,\n      link: values.picture\n    })\n  }\n  \n  useEffect(() => {\n    resetForm()\n  }, [ resetForm, isOpen ])\n  \n  \n  return (\n      <PopupWithForm\n          name=\"card\"\n          title=\"Новое место\"\n          buttonText=\"Создать\"\n          isOpen={ isOpen }\n          isLoading={ isLoading }\n          onClose={ onClose }\n          onSubmit={ handleSubmit }\n          isFormValid={ isValid }\n      >\n        <input\n            aria-label=\"Поле ввода для названия карточки\"\n            className={ `modal__input modal__input_field_title ${ errors[\"card-field-title\"] ? \"modal__input_error\" : \"\" }` }\n            id=\"field_title\"\n            maxLength=\"30\"\n            minLength=\"2\"\n            name=\"title\"\n            placeholder=\"Название\"\n            required\n            type=\"text\"\n            value={ values.title || \"\" }\n            onChange={ handleChange }\n        />\n        <span className=\"modal__error modal__error_field_title\">\n          { errors.title }\n        </span>\n        <input\n            aria-label=\"Поле ввода для адреса картинки\"\n            className={ `modal__input modal__input_field_picture ${ errors.picture ? \"modal__input_error\" : \"\" }` }\n            id=\"field_picture\"\n            name=\"picture\"\n            placeholder=\"Ссылочка на картиночку\"\n            required\n            type=\"url\"\n            onChange={ handleChange }\n            value={ values.picture || \"\" }\n        />\n        <span className=\"modal__error modal__error_field_picture\">\n          { errors.picture }\n        </span>\n      </PopupWithForm>\n  )\n}\n\nexport default AddPlacePopup\n","import { useEffect } from \"react\"\nimport useForm from \"../hooks/useForm\"\nimport PopupWithForm from \"./PopupWithForm\"\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, isLoading }) {\n  \n  const { handleChange, isValid, values, errors, resetForm } = useForm()\n  \n  const handleSubmit = (e) => {\n    e.preventDefault()\n    onUpdateAvatar(values.avatar)\n  }\n  \n  useEffect(() => {\n    resetForm()\n  }, [ resetForm, isOpen ])\n  \n  return (\n      <PopupWithForm\n          name=\"avatar\"\n          title=\"Обновить аватар\"\n          buttonText=\"Сохранить\"\n          isOpen={ isOpen }\n          isLoading={ isLoading }\n          onClose={ onClose }\n          onSubmit={ handleSubmit }\n          isFormValid={ isValid }\n      >\n        <input\n            aria-label=\"Поле ввода для ссылки на картинку\"\n            className={ `modal__input modal__input_field_avatar ${ errors.avatar ? \"modal__input_error\" : \"\" }` }\n            id=\"field_avatar\"\n            name=\"avatar\"\n            placeholder=\"Ссылка на новую картинку профиля\"\n            required\n            type=\"url\"\n            value={ values.avatar || \"\" }\n            onChange={ handleChange }\n        />\n        <span className=\"modal__error modal__error_field_avatar\">\n          { errors.avatar }\n        </span>\n      \n      </PopupWithForm>\n  )\n}\n\nexport default EditAvatarPopup\n","import { useContext, useEffect } from \"react\"\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\"\nimport useForm from \"../hooks/useForm\"\nimport PopupWithForm from \"./PopupWithForm\"\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser, isLoading }) {\n  \n  const { handleChange, isValid, values, errors, resetForm } = useForm()\n  \n  const currentUser = useContext(CurrentUserContext)\n  \n  const handleSubmit = (e) => {\n    e.preventDefault()\n    onUpdateUser({\n      name: values.name,\n      about: values.about\n    })\n  }\n  \n  useEffect(() => {\n    currentUser ? resetForm(currentUser) : resetForm()\n  }, [ resetForm, isOpen, currentUser ])\n  \n  \n  return (\n      <PopupWithForm\n          name=\"bio\"\n          title=\"Редактировать профиль\"\n          buttonText=\"Сохранить\"\n          isOpen={ isOpen }\n          isLoading={ isLoading }\n          onClose={ onClose }\n          onSubmit={ handleSubmit }\n          isFormValid={ isValid }\n      >\n        <input\n            aria-label=\"Поле ввода для имени\"\n            className=\"modal__input modal__input_field_name\"\n            id=\"field_name\"\n            maxLength=\"40\"\n            minLength=\"2\"\n            name=\"name\"\n            placeholder=\"Ваше имя\"\n            required\n            type=\"text\"\n            value={ values.name || \"\" }\n            onChange={ handleChange }\n        />\n        <span className=\"modal__error modal__error_field_name\">\n          { errors.name }\n        </span>\n        <input\n            aria-label=\"Поле ввода для описания\"\n            className=\"modal__input modal__input_field_desc\"\n            id=\"field_desc\"\n            maxLength=\"200\"\n            minLength=\"2\"\n            name=\"about\"\n            placeholder=\"Расскажите о себе\"\n            required\n            type=\"text\"\n            value={ values.about || \"\" }\n            onChange={ handleChange }\n        />\n        <span className=\"modal__error modal__error_field_desc\">\n          { errors.about }\n        </span>\n      </PopupWithForm>\n  \n  )\n}\n\nexport default EditProfilePopup\n","function Footer() {\n  return (\n      <footer className=\"footer page__footer\">\n        <p className=\"footer__copyright\">© 2021 Mesto Russia</p>\n      </footer>\n  )\n}\n\nexport default Footer\n","export default __webpack_public_path__ + \"static/media/logo_color_white.7185dafb.svg\";","import { Link, Route, Switch, useHistory } from \"react-router-dom\"\nimport headerLogo from \"../images/logo/logo_color_white.svg\"\n\nfunction Header({ userEmail }) {\n  \n  const history = useHistory()\n  \n  const signOut = () => {\n    localStorage.removeItem(\"jwt\")\n    history.push(\"/sign-in\")\n  }\n  \n  return (\n      <header className=\"header page__header\">\n        <Link\n            className=\"button\"\n            to=\"/\"\n        >\n          <img\n              alt=\"Логотип сервиса «Место».\"\n              className=\"header__logo\"\n              src={ headerLogo }\n          />\n        </Link>\n        <Switch>\n          <Route path=\"/sign-up\">\n            <Link\n                className=\"header__link button link\"\n                to=\"/sign-in\"\n            >Войти</Link>\n          </Route>\n          <Route path=\"/sign-in\">\n            <Link\n                className=\"header__link button link\"\n                to=\"/sign-up\"\n            >Регистрация</Link>\n          </Route>\n          <Route exact path=\"/\">\n            <div className=\"header__nav\">\n              <p className=\"header__email\">\n                { userEmail ? userEmail : \"\" }\n              </p>\n              <button\n                  className=\"header__link header__link_type_button button\"\n                  type=\"button\"\n                  onClick={ signOut }\n              >\n                Выйти\n              </button>\n            </div>\n          \n          </Route>\n        </Switch>\n      \n      </header>\n  )\n}\n\nexport default Header\n","import Popup from \"./Popup\"\n\nfunction ImagePopup({ isOpen, card, onClose }) {\n  \n  const { link, name } = card\n  \n  return (\n      <Popup\n          isOpen={ isOpen }\n          onClose={ onClose }\n          name=\"picture\"\n      >\n        <img\n            alt={ `Фотография из карточки. Название: ${ name }` }\n            className=\"modal__image\"\n            src={ link ? link : \"\" }\n        />\n        <p className=\"modal__caption\">{ name }</p>\n      </Popup>\n  )\n}\n\nexport default ImagePopup\n","export default __webpack_public_path__ + \"static/media/success.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/fail.df8eddf6.svg\";","import Popup from \"./Popup\"\nimport successIcon from \"../images/tooltip/success.svg\"\nimport failIcon from \"../images/tooltip/fail.svg\"\n\nconst InfoTooltip = ({ isOpen, onClose, isSuccess }) => {\n  \n  return (\n      <Popup\n          isOpen={ isOpen }\n          name=\"tooltip\"\n          onClose={ onClose }\n      >\n        <div className=\"tooltip\">\n          {\n            isSuccess\n            ?\n            (<>\n              <img\n                  src={successIcon}\n                  alt=\"\"\n                  className=\"tooltip__icon\"\n              />\n              <h2 className=\"tooltip__message\">\n                Вы успешно зарегистрировались!\n              </h2>\n            </>)\n            :\n            (<>\n              <img\n                  src={failIcon}\n                  alt=\"\"\n                  className=\"tooltip__icon\"\n              />\n              <h2 className=\"tooltip__message\">\n                Что-то пошло не так!\n                Попробуйте ещё раз.\n              </h2>\n            </>)\n          }\n        </div>\n      </Popup>\n  )\n}\n\nexport default InfoTooltip\n","import { useEffect } from \"react\"\n\nconst AuthForm = ({\n  buttonText, onSubmit, formData, onChange, errors, resetForm, isFormValid, isLoading\n}) => {\n  \n  useEffect(() => {\n    resetForm()\n  }, [ resetForm ])\n  \n  return (\n      <form\n          className=\"auth__form\"\n          name=\"signin\"\n          onSubmit={ onSubmit }\n      >\n        <fieldset className=\"fieldset auth__fieldset\">\n          <input\n              className=\"auth__input\"\n              type=\"email\"\n              name=\"email\"\n              placeholder=\"Email\"\n              value={ formData.email || \"\" }\n              onChange={ onChange }\n              required\n          />\n          <span className=\"modal__error\">\n            { errors.email }\n          </span>\n          <input\n              className=\"auth__input\"\n              type=\"password\"\n              name=\"password\"\n              placeholder=\"Пароль\"\n              minLength=\"4\"\n              maxLength=\"32\"\n              value={ formData.password || \"\" }\n              onChange={ onChange }\n              required\n          />\n          <span className=\"modal__error\">\n          { errors.password }\n          </span>\n        </fieldset>\n        <button\n            disabled={ !isFormValid || isLoading }\n            className={`auth__button ${ isFormValid && !isLoading ? \"\" : \"auth__button_disabled\" }`}\n            type=\"submit\"\n        >\n          { isLoading ? \"⏳ Обработка\" : buttonText }\n        </button>\n      \n      </form>\n  )\n}\n\nexport default AuthForm\n","import React from \"react\"\nimport { useHistory } from \"react-router-dom\"\nimport * as auth from \"../auth\"\nimport useForm from \"../hooks/useForm\"\nimport AuthForm from \"./AuthForm\"\n\nconst Login = ({ isLoggedIn, isLoading, setIsLoading }) => {\n  \n  const { handleChange, isValid, values, errors, resetForm } = useForm()\n  \n  \n  const history = useHistory()\n  \n  const handleAuth = (event) => {\n    event.preventDefault()\n    setIsLoading(true)\n    auth.login(values).then(response => {\n      localStorage.setItem(\"jwt\", response.token)\n      isLoggedIn(true)\n      history.push(\"/\")\n    })\n        .catch((error) => {\n          console.log(error)\n        })\n        .finally(() => setIsLoading(false))\n  }\n  \n  return (\n      <main className=\"auth page__main\">\n        <section className=\"auth__container\">\n          <h2 className=\"auth__title\">\n            Вход\n          </h2>\n          <AuthForm\n              onChange={ handleChange }\n              onSubmit={ handleAuth }\n              formData={ values }\n              buttonText=\"Войти\"\n              isFormValid={ isValid }\n              errors={ errors }\n              resetForm={ resetForm }\n              isLoading={ isLoading }\n          />\n        </section>\n      \n      </main>\n  )\n}\n\nexport default Login\n","import React, { useContext } from \"react\"\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\"\n\nfunction Card({ cardData, onCardClick, onCardLike, onCardDeleteClick }) {\n  \n  const currentUser = useContext(CurrentUserContext)\n  const { name, link, likes, owner, _id: cardId } = cardData\n  \n  const isOwn = owner._id === currentUser._id\n  const galleryDeleteButtonClassName = (\n      `delete gallery__delete-btn ${ isOwn ? \"\" : \"delete_hidden\" }`\n  )\n  \n  const isLiked = likes.some(like => like._id === currentUser._id)\n  const galleryLikeButtonClassName = (\n      `like gallery__like-btn ${ isLiked ? \"like_active\" : \"\" }`)\n  \n  const handleCardClick = () => {\n    onCardClick(cardData)\n  }\n  \n  const handleLikeClick = () => {\n    onCardLike(cardData)\n  }\n  \n  const handleCardDeleteClick = () => {\n    onCardDeleteClick(cardId)\n  }\n  \n  return (\n      <li className=\"gallery__item\">\n        <div className=\"gallery__image-container\">\n          <div className=\"gallery__image-wrapper\">\n            <img\n                className=\"gallery__image\"\n                src={ link }\n                alt={ `Карточка с фотографией. Название: ${ name }` }\n                onClick={ handleCardClick }\n            />\n          </div>\n        </div>\n        <button\n            className={ galleryDeleteButtonClassName }\n            type=\"button\"\n            onClick={ handleCardDeleteClick }\n        />\n        <div className=\"gallery__caption\">\n          <p className=\"gallery__text\">{ name }</p>\n          <div className=\"gallery__like-btn-wrapper\">\n            <button\n                className={ galleryLikeButtonClassName }\n                type=\"button\"\n                onClick={ handleLikeClick }\n            />\n            <span className=\"gallery__like-btn-counter\">{ likes.length }</span>\n          </div>\n        </div>\n      </li>\n  )\n}\n\nexport default Card\n","import { useContext } from \"react\"\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\"\nimport Card from \"./Card\"\n\nfunction Main({\n  cards,\n  onEditAvatar,\n  onEditProfile,\n  onAddPlace,\n  onCardClick,\n  onCardLike,\n  onCardDeleteClick\n}) {\n  \n  const currentUser = useContext(CurrentUserContext)\n  \n  return (\n      <main className=\"main page__main\">\n        <section\n            aria-label=\"Профиль пользователя\"\n            className=\"profile main__profile\"\n        >\n          <div className=\"profile__bio\">\n            <div className=\"profile__avatar-wrapper\">\n              <img\n                  alt=\"Фотография профиля пользователя\"\n                  className=\"profile__avatar\"\n                  src={ currentUser.avatar }\n              />\n              <button\n                  className=\"button profile__avatar-btn\"\n                  onClick={ onEditAvatar }\n              />\n            </div>\n            <div className=\"profile__details\">\n              <div className=\"profile__row\">\n                <h1 className=\"profile__name\">{ currentUser.name }</h1>\n                <button\n                    className=\"button profile__edit-btn\"\n                    type=\"button\"\n                    onClick={ onEditProfile }\n                />\n              </div>\n              <p className=\"profile__desc\">{ currentUser.about }</p>\n            </div>\n            <button\n                className=\"button profile__add-btn\"\n                type=\"button\"\n                onClick={ onAddPlace }\n            />\n          </div>\n        </section>\n        <section\n            aria-label=\"Фотографии пользователя\"\n            className=\"gallery\"\n        >\n          <ul className=\"gallery__grid\">\n            { cards.map((card) =>\n                (<Card\n                    cardData={ card }\n                    key={ card._id }\n                    onCardClick={ onCardClick }\n                    onCardLike={ onCardLike }\n                    onCardDeleteClick={ onCardDeleteClick }\n                />)\n            )\n            }\n          </ul>\n        </section>\n      \n      </main>\n  \n  )\n}\n\nexport default Main\n","import { useEffect } from \"react\"\nimport useForm from \"../hooks/useForm\"\nimport PopupWithForm from \"./PopupWithForm\"\n\nfunction PopupWithConfirmation({\n  isOpen,\n  isLoading,\n  onClose,\n  onSubmit,\n  card\n}) {\n  \n  const { isValid, resetForm } = useForm()\n  \n  const handleConfirmationAction = (e) => {\n    e.preventDefault()\n    onSubmit(card)\n  }\n  \n  useEffect(() => {\n    resetForm(null, null, true)\n  }, [ resetForm, isOpen ])\n  \n  return (\n      <PopupWithForm\n          name=\"confirm\"\n          title=\"Вы уверены?\"\n          buttonText=\"Да\"\n          isOpen={ isOpen }\n          isLoading={ isLoading }\n          onClose={ onClose }\n          onSubmit={ handleConfirmationAction }\n          isFormValid={ isValid }\n      >\n      </PopupWithForm>\n  )\n  \n}\n\nexport default PopupWithConfirmation\n","import React from \"react\"\nimport { Route, Redirect } from \"react-router-dom\"\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n  return (\n      <Route>\n        {() =>\n            props.loggedIn ? <Component {...props} /> : <Redirect to=\"/sign-in\" />\n        }\n      </Route>\n  )\n}\n\nexport default ProtectedRoute\n","import { Link, useHistory } from \"react-router-dom\"\nimport * as auth from \"../auth\"\nimport useForm from \"../hooks/useForm\"\nimport AuthForm from \"./AuthForm\"\n\nconst Register = ({signUpStatus, isLoading, setIsLoading, handleInfoTooltip}) => {\n  \n  const { handleChange, isValid, values, errors, resetForm } = useForm()\n  \n  const history = useHistory()\n  \n  const handleRegistration = (event) => {\n    event.preventDefault()\n    setIsLoading(true)\n    auth.register(values).then(response => {\n      signUpStatus(true)\n      handleInfoTooltip(true)\n      history.push(\"/sign-in\")\n      console.log(response)\n    })\n        .catch((error) => {\n          console.log(error)\n          signUpStatus(false)\n          handleInfoTooltip(true)\n        })\n        .finally(() => setIsLoading(false))\n  }\n  \n  return (\n      <main className=\"auth page__main\">\n        <section className=\"auth__container\">\n          <h2 className=\"auth__title\">\n            Регистрация\n          </h2>\n          <AuthForm\n              onChange={ handleChange }\n              onSubmit={ handleRegistration }\n              formData={ values }\n              buttonText=\"Зарегистрироваться\"\n              isFormValid={ isValid }\n              errors={ errors }\n              resetForm={resetForm}\n              isLoading={isLoading}\n          />\n          <Link\n              className=\"auth__link button link\"\n              to=\"/sign-in\"\n          >\n            Уже&nbsp;зарегистрированы? Войти\n          </Link>\n        </section>\n      \n      </main>\n  )\n}\n\nexport default Register\n","import { useCallback, useEffect, useState } from \"react\"\nimport { Route, Switch, useHistory } from \"react-router-dom\"\nimport * as auth from \"../auth\"\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\"\nimport \"../index.css\"\nimport api from \"../utils/api\"\nimport AddPlacePopup from \"./AddPlacePopup\"\nimport EditAvatarPopup from \"./EditAvatarPopup\"\nimport EditProfilePopup from \"./EditProfilePopup\"\nimport Footer from \"./Footer\"\nimport Header from \"./Header\"\nimport ImagePopup from \"./ImagePopup\"\nimport InfoTooltip from \"./InfoTooltip\"\nimport Login from \"./Login\"\nimport Main from \"./Main\"\nimport PopupWithConfirmation from \"./PopupWithConfirmation\"\nimport ProtectedRoute from \"./ProtectedRoute\"\nimport Register from \"./Register\"\n\n\nfunction App() {\n  const [ isSignUpSuccessful, setIsSignUpSuccessful ] = useState(false)\n  const [ isLoggedIn, setIsLoggedIn ] = useState(false)\n  const [ currentUser, setCurrentUser ] = useState({\n    \"name\": \"\",\n    \"about\": \"\",\n    \"avatar\": \"\",\n    \"_id\": \"\",\n    \"cohort\": \"\"\n  })\n  const [ userEmail, setUserEmail ] = useState(\"\")\n  const [ cards, setCards ] = useState([])\n  const [ selectedCard, setSelectedCard ] = useState({ name: \"\", link: \"\" })\n  const [ cardToRemoveId, setCardToRemoveId ] = useState(\"\")\n  const [ isEditAvatarPopupOpen, setIsEditAvatarPopupOpen ] = useState(false)\n  const [ isEditProfilePopupOpen, setIsEditProfilePopupOpen ] = useState(false)\n  const [ isAddPlacePopupOpen, setIsAddPlacePopupOpen ] = useState(false)\n  const [ isConfirmationPopupOpen, setIsConfirmationPopupOpen ] = useState(\n      false)\n  const [ isImagePopupOpen, setIsImagePopupOpen ] = useState(false)\n  const [ tooltip, setTooltip ] = useState(false)\n  const [ isLoading, setIsLoading ] = useState(false)\n  const history = useHistory()\n  \n  // Элементы UI блока карточек\n  \n  const handleCardLike = (card) => {\n    const isLiked = card.likes.some(like => like._id === currentUser._id)\n    api.changeLikeCardStatus(card._id, isLiked).then((newCard) => {\n      setCards((cards) => cards.map((c) => c._id === card._id ? newCard : c))\n    }).catch(err => console.log(err))\n  }\n  \n  \n  const handleAddPlaceSubmit = (card) => {\n    handlePopupLoader(true)\n    api.createNewPlace(card)\n        .then((newFetchedCard) => {\n          setCards([ newFetchedCard, ...cards ])\n          closeAllPopups()\n        })\n        .catch()\n        .finally(() => {\n          handlePopupLoader(false)\n        })\n  }\n  \n  const handleCardDeleteClick = (cardId) => {\n    setIsConfirmationPopupOpen(!isConfirmationPopupOpen)\n    setCardToRemoveId(cardId)\n  }\n  \n  const handleCardDelete = (cardToRemoveId) => {\n    handlePopupLoader(true)\n    api.removePlace(cardToRemoveId)\n        .then(() => {\n          setCards((cards) => cards.filter(c => c._id !== cardToRemoveId))\n          closeAllPopups()\n        })\n        .catch(err => console.log(err))\n        .finally(() => {\n          handlePopupLoader(false)\n        })\n  }\n  \n  // Элементы UI в профиле\n  \n  const handleEditAvatarClick = () => {\n    setIsEditAvatarPopupOpen(!isEditAvatarPopupOpen)\n  }\n  \n  const handleEditProfileClick = () => {\n    setIsEditProfilePopupOpen(!isEditProfilePopupOpen)\n  }\n  \n  const handleAddPlaceClick = () => {\n    setIsAddPlacePopupOpen(!isAddPlacePopupOpen)\n  }\n  \n  const handleCardClick = (cardData) => {\n    setIsImagePopupOpen(!isImagePopupOpen)\n    setSelectedCard(cardData)\n  }\n  \n  // Элементы UI в попапах\n  \n  const closeAllPopups = () => {\n    setIsEditAvatarPopupOpen(false)\n    setIsEditProfilePopupOpen(false)\n    setIsAddPlacePopupOpen(false)\n    setIsImagePopupOpen(false)\n    setIsConfirmationPopupOpen(false)\n    setTooltip(false)\n    setSelectedCard({ name: \"\", link: \"\" })\n  }\n  \n  const handlePopupLoader = (isLoading) => {\n    setIsLoading(isLoading)\n  }\n  \n  const handleUpdateUser = (newUserInfo) => {\n    handlePopupLoader(true)\n    api.setUserInfo(newUserInfo)\n        .then((newFetchedData) => {\n          setCurrentUser(newFetchedData)\n          closeAllPopups()\n        })\n        .catch()\n        .finally(() => {\n          handlePopupLoader(false)\n        })\n  }\n  \n  const handleUpdateAvatar = (newAvatar) => {\n    handlePopupLoader(true)\n    api.setUserAvatar(newAvatar)\n        .then((newFetchedAvatar) => {\n          setCurrentUser(newFetchedAvatar)\n          closeAllPopups()\n        })\n        .catch()\n        .finally(() => {\n          handlePopupLoader(false)\n        })\n  }\n  \n  // Управление состоянием авторизации\n  \n  const handleSignUpSuccess = (status) => {\n    setIsSignUpSuccessful(status)\n  }\n  \n  const handleLogin = (status) => {\n    setIsLoggedIn(status)\n  }\n  \n  const tokenCheck = useCallback(() => {\n    if (localStorage.getItem(\"jwt\")) {\n      const jwt = localStorage.getItem(\"jwt\")\n      if (jwt) {\n        auth.getContent(jwt).then((response) => {\n          if (response) {\n            setIsLoggedIn(true)\n            setUserEmail(response.data.email)\n            history.push(\"/\")\n          }\n        }).catch((error) => {\n          console.log(error)\n        })\n      }\n    }\n  }, [history])\n  \n  // Запрос\n  useEffect(() => {\n    tokenCheck()\n  }, [isLoggedIn])\n  \n  // Изначальный фетч с сервера\n  useEffect(() => {\n    Promise.all([ api.getPlaces(), api.getUserInfo() ])\n        .then(([ places, userInfo ]) => {\n          setCards(places)\n          setCurrentUser(userInfo)\n        })\n        .catch(error => {\n          console.log(error)\n        })\n  }, [])\n  \n  return (\n      <CurrentUserContext.Provider value={ currentUser }>\n        <div className=\"page\">\n          <div className=\"page__container\">\n            <Header userEmail={ userEmail }/>\n            <Switch>\n              <ProtectedRoute\n                  exact\n                  path=\"/\"\n                  loggedIn={ isLoggedIn }\n                  cards={ cards }\n                  onEditAvatar={ handleEditAvatarClick }\n                  onEditProfile={ handleEditProfileClick }\n                  onAddPlace={ handleAddPlaceClick }\n                  onCardClick={ handleCardClick }\n                  onCardLike={ handleCardLike }\n                  onCardDeleteClick={ handleCardDeleteClick }\n                  component={ Main }\n              />\n              <Route path=\"/sign-up\">\n                <Register\n                    signUpStatus={ handleSignUpSuccess }\n                    isLoading={ isLoading }\n                    setIsLoading={ setIsLoading }\n                    handleInfoTooltip={ setTooltip }\n                />\n              </Route>\n              <Route path=\"/sign-in\">\n                <Login\n                    isLoggedIn={ handleLogin }\n                    isLoading={ isLoading }\n                    setIsLoading={ setIsLoading }\n                />\n              </Route>\n            </Switch>\n            <EditAvatarPopup\n                isOpen={ isEditAvatarPopupOpen }\n                isLoading={ isLoading }\n                onClose={ closeAllPopups }\n                onUpdateAvatar={ handleUpdateAvatar }\n            />\n            \n            <EditProfilePopup\n                isOpen={ isEditProfilePopupOpen }\n                isLoading={ isLoading }\n                onClose={ closeAllPopups }\n                onUpdateUser={ handleUpdateUser }\n            />\n            \n            <AddPlacePopup\n                isOpen={ isAddPlacePopupOpen }\n                isLoading={ isLoading }\n                onClose={ closeAllPopups }\n                onPlaceAdd={ handleAddPlaceSubmit }\n            />\n            \n            <PopupWithConfirmation\n                isOpen={ isConfirmationPopupOpen }\n                isLoading={ isLoading }\n                onClose={ closeAllPopups }\n                onSubmit={ handleCardDelete }\n                card={ cardToRemoveId }\n            />\n            \n            <ImagePopup\n                isOpen={ isImagePopupOpen }\n                card={ selectedCard }\n                onClose={ closeAllPopups }\n            />\n            \n            <InfoTooltip\n                isOpen={ tooltip }\n                onClose={ closeAllPopups }\n                isSuccess={ isSignUpSuccessful }\n            />\n            <Footer/>\n          \n          \n          </div>\n        </div>\n      </CurrentUserContext.Provider>\n  )\n}\n\nexport default App\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { BrowserRouter } from \"react-router-dom\"\nimport App from \"./components/App\"\nimport \"./index.css\"\n\nReactDOM.render(\n    <React.StrictMode>\n      <BrowserRouter>\n        <App/>\n      </BrowserRouter>\n    </React.StrictMode>,\n    document.getElementById(\"root\")\n)\n"],"sourceRoot":""}